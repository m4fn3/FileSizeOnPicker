function E(t){window.enmity.plugins.registerPlugin(t)}const l=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const o=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const C=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme;const h=window.enmity.modules.common.Linking,u=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function b(t){return window.enmity.patcher.create(t)}var B="FileSizeOnPicker",p="1.0.0",R="Show the size of files in the media picker",A=[{name:"mafu",id:"519760564755365888"}],I="#a8d3ff",P={name:B,version:p,description:R,authors:A,color:I};const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList;const M=e.Image;e.ImageBackground,e.KeyboardAvoidingView,e.Modal;const z=e.Pressable;e.RefreshControl;const D=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const s=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const d=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const m=e.FormRow,L=e.FormSection;e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function w(t){return window.enmity.assets.getIDByName(t)}function T(...t){return window.enmity.modules.getByProps(...t)}window.enmity.modules.common;const N=w("img_account_sync_github_white"),k=w("Discord"),x=w("img_account_sync_twitter_white"),_=T("acceptInviteAndTransitionToInviteChannel");var O=({settings:t})=>{const n=u.createThemedStyleSheet({container:{flexDirection:"row",justifyContent:"center",alignItems:"center"},image:{width:70,height:70,marginTop:20,marginLeft:20},title:{flexDirection:"column"},name:{fontSize:30,paddingTop:20,paddingLeft:20,paddingRight:30,color:l.ThemeColorMap.HEADER_PRIMARY},author:{fontSize:15,paddingLeft:50,color:l.ThemeColorMap.HEADER_SECONDARY},info:{height:45,paddingTop:3,paddingBottom:3,justifyContent:"center",alignItems:"center"},footer:{color:l.ThemeColorMap.HEADER_SECONDARY,textAlign:"center",paddingTop:10,paddingBottom:20}});return o.createElement(D,null,o.createElement(d,{style:n.container},o.createElement(M,{source:{uri:"https://avatars.githubusercontent.com/u/43488869"},style:n.image}),o.createElement(d,{style:n.title},o.createElement(s,{style:n.name},"FileSizeOnPicker"),o.createElement(s,{style:n.author},"by mafu"))),o.createElement(L,{title:"INFORMATION"},o.createElement(m,{label:"Follow me on Twitter",style:n.info,trailing:m.Arrow,leading:o.createElement(m.Icon,{source:x}),onPress:()=>{h.openURL("https://twitter.com/m4fn3")}}),o.createElement(m,{label:"Visit my server for help",style:n.info,trailing:m.Arrow,leading:o.createElement(m.Icon,{source:k}),onPress:()=>{_.acceptInviteAndTransitionToInviteChannel({inviteKey:"TrCqPTCrdq",context:{location:"Invite Button Embed"},callback:()=>{C.pop()}})}}),o.createElement(m,{label:"Check Source on GitHub",style:n.info,trailing:m.Arrow,leading:o.createElement(m.Icon,{source:N}),onPress:()=>{h.openURL("https://github.com/m4fn3/FileSizeOnPicker")}})),o.createElement(s,{style:n.footer},`v${p}`))},S;const V=T("View"),{NativeModules:f}=V,H=(S=f.DCDFileManager)!=null?S:f.RTNFileManager;function Y(t,n=2){if(!+t)return"0 Bytes";const i=1024,c=n<0?0:n,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(t)/Math.log(i));return`${parseFloat((t/Math.pow(i,a)).toFixed(c))} ${r[a]}`}var $=({filePath:t})=>{const n=u.createThemedStyleSheet({sizeText:{includeFontPadding:!1,fontSize:12,color:l.ThemeColorMap.TEXT_NORMAL,fontFamily:l.Fonts.PRIMARY_BOLD}}),[i,c]=o.useState("");return o.useEffect(()=>{H.getSize(t).then(r=>{c(Y(r))})},[]),o.createElement(s,{style:n.sizeText},i)};const F=b("FileSizeOnPicker"),G={...P,onStart(){const t=u.createThemedStyleSheet({sizeTagWrapper:{position:"relative"},sizeTag:{backgroundColor:l.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,borderRadius:4,paddingHorizontal:8,paddingVertical:4,position:"absolute",top:6,left:6}});F.before(z.type,"render",(n,i,c)=>{var r,a,y;if(i[0].accessibilityRole!=="imagebutton")return;const v=i[0].children,g=(y=(a=(r=i[0].children[0])==null?void 0:r.props)==null?void 0:a.source)==null?void 0:y.uri;g&&(i[0].children=o.createElement(d,{style:t.sizeTagWrapper},v,o.createElement(d,{style:t.sizeTag},o.createElement($,{filePath:g}))))})},onStop(){F.unpatchAll()},getSettingsPanel({settings:t}){return o.createElement(O,{settings:t})}};E(G);
